<!DOCTYPE html>
<html>
    <head>
        <title>Blocktcha Widget</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="css/tailwind.min.css">
        <link rel="stylesheet" href="css/all.min.css">
        <link rel="stylesheet" href="css/page.css">
        <script src="js/ripples.js"></script>
        <script src="js/utils.js"></script>
        <style>
          
        </style>
    </head>
    <body>
        <main>
            <section class="vh-full w-96 space-x-14 top-1/4 text-center m-auto p-2">
              <button class="ripple relative border-2 border-black p-3 px-5 enableEthereumButton rounded-full">Enable ethereum</button>
              <button class="ripple relative border-2 bg-gray-900 text-white sendEthButton p-3 px-5 rounded-full">Send ethereum</button>
            </section>
        </main>

        <script>
        window.addEventListener('DOMContentLoaded', function() {
          animations.addRippleAnimations()
        })
  if (typeof window.ethereum !== 'undefined') {
  const ethereumButton = document.querySelector('.enableEthereumButton');
  const sendEthButton = document.querySelector('.sendEthButton');

  let accounts = [];

  //Sending Ethereum to an address
  sendEthButton.addEventListener('click', () => {
    ethereum.request({
      method: 'eth_sendTransaction',
      params: [{
        from: accounts[0],
        to: '0x2f318C334780961FB129D2a6c30D0763d9a5C970',
        value: '0x29a2241af62c0000',
        gasPrice: '0x09184e72a000',
        gas: '0x2710',
      }],
    })
      .then((txHash) => console.log(txHash))
      .catch(console.error);
  });

  ethereumButton.addEventListener('click', async () => {
    await getAccount();
    sendEthButton.disabled = false;
    ethereumButton.disabled = true;
  });

  async function getAccount() {
    accounts = await ethereum.request({ method: 'eth_requestAccounts' });
  }
}
        </script>
    </body>
</html>